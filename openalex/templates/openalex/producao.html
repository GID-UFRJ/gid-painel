{% extends "homepage/base.html" %}

{% block conteudo %}
        
    <div class='divisoria' id='id_teste'>
        <img src = "data:image/png;base64, {{ card_01 }}" alt="" class='imagemsuperior'>
        <img src = "data:image/png;base64, {{ card_02 }}" alt="" class='imagemsuperior'>
        <img src = "data:image/png;base64, {{ card_03 }}" alt="" class='imagemsuperior'>  
    </div>


    <div class="container mt-4">

      <!-- Controles -->
      <div class="row mb-3">
        <!-- Sliders -->
        <div class="col-md-8">
          <label class="form-label">Intervalo de anos</label>
          <div class="d-flex align-items-center">
            <input type="number" id="ano_inicial" name="ano_inicial" value="1990"
                   class="form-control me-2"
                   hx-get="{% url 'openalex:grafico_producao_por_ano' %}"
                   hx-target="#graf-container"
                   hx-trigger="change"
                   hx-include="#ano_final,#filtro">
            <span class="mx-2">até</span>
            <input type="number" id="ano_final" name="ano_final" value="2024"
                   class="form-control ms-2"
                   hx-get="{% url 'openalex:grafico_producao_por_ano' %}"
                   hx-target="#graf-container"
                   hx-trigger="change"
                   hx-include="#ano_inicial,#filtro">
          </div>
        </div>

        <!-- Filtro -->
        <div class="col-md-4">
          <label for="filtro" class="form-label">Dividir produção por</label>
          <select id="filtro" name="filtro" class="form-select"
                  hx-get="{% url 'openalex:grafico_producao_por_ano' %}"
                  hx-target="#graf-container"
                  hx-trigger="change"
                  hx-include="#ano_inicial,#ano_final">
            <option value="total" selected>Total</option>
            <option value="tipo_documento">Tipo de Documento</option>
            <option value="acesso_aberto">Acesso Aberto</option>
          </select>
        </div>
      </div>

      <!-- Gráfico -->
      <div id="graf-container">
        <div class="grafico">{{ graf_01|safe }}</div>
      </div>
    </div>


    <!--
    <div class='divisoria'>
        <div class='grafico'> {{ graf_01 | safe }}</div>  
        <div class='grafico'> {{ graf_02 | safe }}</div>  
        <div class='grafico'> {{ graf_03 | safe }}</div>  
        <div class='grafico'> {{ graf_04 | safe }}</div>  
        <div class='grafico'> {{ graf_05 | safe }}</div>  
        <div class='grafico'> {{ graf_06 | safe }}</div>  
    </div>
    -->

{% endblock %} 

{% block style %}
    <style>
    .grafico{
        border: 2px solid blue;
        padding:5px;
        margin:5px;
        background-color: white;
        border-radius: 20px;
    }
    .divisoria{
        display:flex;
        flex-wrap: wrap;
        align-items: center; 
        justify-content: center; 
        margin:5; 
        padding: 0
    }
    .imagem{
        margin:5;
        width:500;
        height:400;
        border-radius: 20px;
    }
    .imagemsuperior{
        border: 2px solid blue;
        margin:5;
        width:500;
        height:200;
        border-radius: 20px;
    }
    </style>

{% endblock %}
